<%= stylesheet_link_tag 'welcome', media: 'all', 'data-turbolinks-track' => true %>

<% if @results %>
    <% @results.each do |result| %>
        <div>
          <p>
            <%= result.title %>
            <%= link_to result.title, post_path(result) %>
          </p>
        </div>
        <div>
          <strong>user: </strong> <%= result.try(:user).try(:username) %>
        </div>
        <hr>
        <div>
          <p>
            <%= result.body %>
          </p>
        </div>
        <p>
          <strong>Created:</strong> <%= time_ago_in_words(result.created_at) %> ago
        </p>
        <hr>
        <p>Comments numbers: <%= result.comments.size %> </p>
    <% end %>

<% else %>
    <div class="menu row">
    <% @posts.each do |post| %>
        <div class="menu-category list-group ">
            <a href=<%= post_path(post) %> class="menu-item list-group-item">
              <h4 class="list-group-item-heading"><%= post.title %></h4>
              <p class="menu-item list-group-item-text"><%= truncate(post.body, :length => 150, :omission => '... (continued)') %></p>
              <!--Types of label: Default Primary Success Info Warning Danger-->
              <% if post.updated_at > Time.now - 1.days %>
                  <span class="label label-warning glyphicon glyphicon-dashboard">&nbsp;
              <% else %>
                  <span class="label label-default glyphicon glyphicon-dashboard">&nbsp;
              <% end %>
              <%=time_ago_in_words(post.updated_at)%></span>
              <% if post.cached_votes_up > 0 %>
                  <span class="label label-success glyphicon glyphicon-thumbs-up">
              <% else %>
                  <span class="label label-default glyphicon glyphicon-thumbs-up">
              <% end %>
              &nbsp;<%=post.cached_votes_up%></span>
            </a>
        </div>
        <% #require "pp" %>
        <% #puts post.pretty_inspect %>
    <% end %>
    </div>
    <%= will_paginate @posts, class: 'pagination pagination-centered' %>

<% end %>
